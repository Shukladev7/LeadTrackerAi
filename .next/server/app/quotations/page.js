(()=>{var e={};e.id=456,e.ids=[456],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1708:e=>{"use strict";e.exports=require("node:process")},2186:(e,t,r)=>{"use strict";r.d(t,{columns:()=>q});var s=r(60687),a=r(85814),i=r.n(a),o=r(69795),n=r(76311),l=r(35137),d=r(57207),c=r(72322),u=r(43210),p=r(29523),x=r(21342),m=r(96834);r(73437),r(58261);var h=r(6475);let g=(0,h.createServerReference)("40ebd531f829cc9149e36673cbb71b811f41f9e607",h.callServer,void 0,h.findSourceMapURL,"deleteQuotationAction");function v({dateString:e}){let[t,r]=(0,u.useState)("");return t?(0,s.jsx)("div",{className:"pl-4",children:t}):(0,s.jsx)("div",{className:"pl-4",children:"-"})}let f=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),b={Draft:"bg-gray-100 text-gray-800 border-gray-200",Sent:"bg-blue-100 text-blue-800 border-blue-200",Accepted:"bg-green-100 text-green-800 border-green-200",Rejected:"bg-red-100 text-red-800 border-red-200"};function j({quotation:e}){let t=async()=>{confirm(`Are you sure you want to delete quotation "${e.quotationNumber}"? This action cannot be undone.`)&&await g(e.id)};return(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)(x.rI,{children:[(0,s.jsx)(x.ty,{asChild:!0,children:(0,s.jsxs)(p.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,s.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,s.jsx)(o.A,{className:"h-4 w-4"})]})}),(0,s.jsxs)(x.SQ,{align:"end",className:"w-48",children:[(0,s.jsx)(x.lp,{children:"Actions"}),(0,s.jsx)(x.mB,{}),(0,s.jsx)(x._2,{asChild:!0,children:(0,s.jsxs)(i(),{href:`/quotations/${e.id}`,children:[(0,s.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"View/Download"]})}),(0,s.jsxs)(x._2,{children:[(0,s.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Edit Quotation"]}),(0,s.jsx)(x.mB,{}),(0,s.jsxs)(x._2,{className:"text-destructive focus:bg-destructive/10 focus:text-destructive",onSelect:t,children:[(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Delete Quotation"]})]})]})})}let q=[{accessorKey:"quotationNumber",header:"Number",cell:({row:e})=>(0,s.jsx)(i(),{href:`/quotations/${e.original.id}`,className:"font-medium hover:underline",children:e.original.quotationNumber})},{accessorKey:"leadName",header:"Lead",cell:({row:e})=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.original.leadName}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.original.leadCompany})]})},{accessorKey:"status",header:"Status",cell:({row:e})=>(0,s.jsx)(m.E,{variant:"outline",className:b[e.original.status],children:e.original.status})},{accessorKey:"date",header:({column:e})=>(0,s.jsxs)(p.$,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Date",(0,s.jsx)(c.A,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>(0,s.jsx)(v,{dateString:e.original.date})},{accessorKey:"grandTotal",header:()=>(0,s.jsx)("div",{className:"text-right",children:"Amount"}),cell:({row:e})=>(0,s.jsx)("div",{className:"text-right font-medium",children:f(e.original.grandTotal)})},{id:"actions",cell:({row:e})=>(0,s.jsx)(j,{quotation:e.original})}]},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},7252:e=>{"use strict";e.exports=require("express")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19185:e=>{"use strict";e.exports=require("dgram")},19771:e=>{"use strict";e.exports=require("process")},20620:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},21820:e=>{"use strict";e.exports=require("os")},24336:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(37413),a=r(95448),i=r(96208),o=r(55966);async function n(){let e=await (0,a.Un)(),t=await (0,a.ah)(),r=e.map(e=>{let r=t.find(t=>t.id===e.leadId);return{...e,leadName:r?.name||"N/A",leadCompany:r?.company||"N/A"}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex items-center justify-between space-y-2",children:(0,s.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Quotations"})}),(0,s.jsx)(o.DataTable,{columns:i.columns,data:r})]})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37830:e=>{"use strict";e.exports=require("node:stream/web")},44708:e=>{"use strict";e.exports=require("node:https")},54379:e=>{"use strict";e.exports=require("node:path")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55966:(e,t,r)=>{"use strict";r.d(t,{DataTable:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call DataTable() from the server but DataTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/gauravshukla/Downloads/ll/src/app/quotations/data-table.tsx","DataTable")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},58286:(e,t,r)=>{Promise.resolve().then(r.bind(r,96208)),Promise.resolve().then(r.bind(r,55966))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},76311:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},80864:(e,t,r)=>{"use strict";r.d(t,{DataTable:()=>h});var s=r(60687),a=r(43210),i=r(56090),o=r(93772),n=r(16189),l=r(73437),d=r(6211),c=r(29523),u=r(89667),p=r(41936),x=r(20620),m=r(70645);function h({columns:e,data:t}){let r=(0,n.useRouter)(),h=(0,n.usePathname)(),g=(0,n.useSearchParams)(),[v,f]=a.useState([]),[b,j]=a.useState(g.get("q")||""),q=(0,i.N4)({data:t,columns:e,getCoreRowModel:(0,o.HT)(),getPaginationRowModel:(0,o.kW)(),onSortingChange:f,getSortedRowModel:(0,o.h5)(),onGlobalFilterChange:j,getFilteredRowModel:(0,o.hM)(),state:{sorting:v,globalFilter:b}});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 py-4",children:[(0,s.jsxs)("div",{className:"relative w-full sm:w-auto sm:max-w-sm",children:[(0,s.jsx)(p.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(u.p,{placeholder:"Search quotations...",value:b,onChange:e=>{let t=e.target.value;j(t);let s=new URLSearchParams(g);t?s.set("q",t):s.delete("q"),r.replace(`${h}?${s.toString()}`)},className:"pl-10 w-full"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,s.jsxs)(c.$,{variant:"outline",onClick:()=>{let e=e=>{let t=String(e);return t.includes(",")||t.includes('"')||t.includes("\n")?`"${t.replace(/"/g,'""')}"`:t},t=new Blob([["Quotation Number,Lead Name,Lead Company,Status,Date,Valid Until,Sub-Total,Total GST,Grand Total,Created At",...q.getFilteredRowModel().rows.map(t=>{let r=t.original;return[r.quotationNumber,r.leadName,r.leadCompany,r.status,(0,l.GP)(new Date(r.date),"yyyy-MM-dd"),(0,l.GP)(new Date(r.validUntil),"yyyy-MM-dd"),r.subTotal,r.totalGst,r.grandTotal,(0,l.GP)(new Date(r.createdAt),"yyyy-MM-dd HH:mm:ss")].map(e).join(",")})].join("\n")],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),s=URL.createObjectURL(t);r.setAttribute("href",s),r.setAttribute("download","quotations.csv"),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"w-full sm:w-auto",children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Export"]}),(0,s.jsx)(m.CreateQuotationDialog,{})]})]}),(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(d.XI,{children:[(0,s.jsx)(d.A0,{children:q.getHeaderGroups().map(e=>(0,s.jsx)(d.Hj,{children:e.headers.map(e=>(0,s.jsx)(d.nd,{children:e.isPlaceholder?null:(0,i.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(d.BF,{children:q.getRowModel().rows?.length?q.getRowModel().rows.map(e=>(0,s.jsx)(d.Hj,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,s.jsx)(d.nA,{children:(0,i.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(d.Hj,{children:(0,s.jsx)(d.nA,{colSpan:e.length,className:"h-24 text-center",children:"No quotations found."})})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,s.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>q.previousPage(),disabled:!q.getCanPreviousPage(),children:"Previous"}),(0,s.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>q.nextPage(),disabled:!q.getCanNextPage(),children:"Next"})]})]})}},81630:e=>{"use strict";e.exports=require("http")},84297:e=>{"use strict";e.exports=require("async_hooks")},88465:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),a=r(48088),i=r(88170),o=r.n(i),n=r(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d={children:["",{children:["quotations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,24336)),"/Users/gauravshukla/Downloads/ll/src/app/quotations/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/gauravshukla/Downloads/ll/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/gauravshukla/Downloads/ll/src/app/quotations/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/quotations/page",pathname:"/quotations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96208:(e,t,r)=>{"use strict";r.d(t,{columns:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call columns() from the server but columns is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/gauravshukla/Downloads/ll/src/app/quotations/columns.tsx","columns")},98038:(e,t,r)=>{Promise.resolve().then(r.bind(r,2186)),Promise.resolve().then(r.bind(r,80864))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,642,658,580,184,684,437,172,352,312,365,333,847,347,906,593],()=>r(88465));module.exports=s})();